<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"> <!--language is english-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> <!--tell internet explorer give the user most up-to-date experience-->
    <meta name="viewport" content="width=device-width, initial-scale=1"> <!--for mobile, how to display the page initially when it loads-->
    <link rel="shortcut icon" href="images/favicon.ico" /> <!--display favicon in title-->
    <title>Sanctuary at Browning Farms</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora:400,700"> <!--link to google font-->
    <link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/bootstrap.css"> <!--link to bootstrap style css-->
    <link rel="stylesheet" href="css/style.css"> <!--link to personal style css-->
    <script src="scripts/jquery-1.11.2.js"></script>
    <script src="scripts/bootstrap.js"></script>
    <script src="scripts/knockout-3.2.0.js"></script>
    <script src="scripts/knockout.mapping-latest.js"></script>
    <script src="scripts/Site.js"></script>
  </head>


  <!--There are 3 big main boxes: top, middle, bottom-->
  <body>
    <!--the whole box-->
    <div class="container"> 
      <!--first top box-->
      <header class="row put-color"> 
        <!--box for udacity logo-->
        <div class="col-md-4"> 
          <a href="index.html"><img class="img-responsive title-logo move-lower" src="images/logo.png" alt="Sanctuary logo" height="250px" width="250px"></a>
        </div>
        
        <!--box for Dr. Freeze text-->
        <div class="col-md-8 text-centered"> <!--to move text to the right; to capitalize all the text-->
          <h1 class="text-capitalize title-super text-thick move-much-lower change-font"><em>Improving the lives of animals in owen county</em></h1> <!--first important title so use h1-->
        </div> 
      </header>


      <!--box for horizontal line-->
      <div class="row">
        <div class="col-md-12">
          <hr>
        </div>
      </div>


      
      <div class="row space-below">
        <div id="centeredmenu">
          <nav> <!--menu navigation links-->
            <ul>
              <li>
                <a href="about.html">About Us</a>
                <ul> <!--submenu links-->
                  <li><a href="mission.html">Our Mission</a></li>
                  <li><a href="social.html">Social Media</a></li>
                </ul>
              </li>
    
              <li>
                <a href="adoption.html">Adoption</a>
                <ul>
                  <li><a href="AnimalList.html">Animals</a></li>
                  <li><a href="form.html">Form</a></li>
                </ul>
              </li>

              <li>
                <a href="service.html">Our Service</a>
              </li>
    
              <li>
                <a href="volunteer.html">Volunteer</a>
                <ul>
                  <li><a href="donate.html">Donate</a></li>adoption
                </ul>
              </li>

            </ul>
          </nav>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <h3>Choose your Pet!</h3>
          <a>Dog</a><br />
          <a>Cat</a><br />
          <a href="AnimalEdit.html?id=0">Add a Record</a>
        </div>

        <div class="col-md-9">
          <div class="col-md-3" data-bind="foreach:items">
            <img src="http://placekitten.com/g/200/300">
            <table class="table table-striped table-bordered table-condensed" style="width:200px;">
            
                    <tr>
                        <td>Name</td>
                        <td><a data-bind="text: petname, attr: { href: 'AnimalEdit.html?id=' + petid }" /></td>
                    </tr>
                    <tr>
                        <td>Type</td>
                        <td data-bind="text: pettype"></td>
                    </tr>
                    <tr>
                        <td>Breed</td>
                        <td data-bind="text: breed"></td>
                    </tr>
                    <tr>
                        <td>Color</td>
                        <td data-bind="text: color"></td>
                    </tr>
                    <tr>
                        <td>Weight</td>
                        <td data-bind="text: weight"></td>
                    </tr>

            </table>
          </div>
        </div>
      </div>




        <script type="text/javascript">
            // MSI developer code
            var devCode = "9ofioftnebd1xr7k0nnwcwwt4st3pbpb";
            // MSI API root URL
            var MSIRootAPI = "https://msitest.azurewebsites.net/dapi/9ofioftnebd1xr7k0nnwcwwt4st3pbpb/";

            jQuery(document).ready(function () {
                InitializeViewModel();
                getData();
            });

            function InitializeViewModel() {
                dataModel = new dataModel();
                ko.applyBindings(dataModel);
            }

            // main model
            function dataModel(n) {
                var self = this;
                self.items = ko.observableArray([]);
                self.pageSize = ko.observable(5);
                self.columns = ko.observableArray([]);
                self.count = 0;
            }

            function viewModel(rec) {
                var self = this;
                self.petid = ko.observable(rec.petid);
                self.pettype = ko.observable(rec.pettype);
                self.petname = ko.observable(rec.petname);
                self.breed = ko.observable(rec.breed);
                self.color = ko.observable(rec.color);
                self.weight = ko.observable(rec.weight);
            }

            function getData() {
                var jqxhr = $.get(MSIRootAPI + "pets", "", function (response) {
                    getDataResponse(response);
                }, "json")
                .fail(function (response) {
                    RequestFailed(response);
                }
                );
            }

            function RequestFailed(r) {
                alert("data request failed from wthin list");
            }

            // load view model so Knockout can bind to it
            function getDataResponse(response) {
                dataModel.count = response.length;
                for (i = 0; i < response.length; i++) {
                    var vm = new viewModel(response[i]);
                    dataModel.items.push(vm);
                }
            }
        </script>

    </div>

    <footer class="footer"> <p>Except as otherwise noted, the content of this page is licensed under the <br />
       Creative Commons Attribution 3.0 License and the Apache 2.0 License. See Site Policies for details.
</p></footer>
</body>
</html>
